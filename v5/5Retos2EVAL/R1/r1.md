
**Proyecto: Infraestructura Hosting para Terraformadores de Venus**  

Terraformadores de Venus está ampliando su base de clientes, y su infraestructura en la nube debe ser capaz de satisfacer las necesidades de pequeñas startups y grandes corporaciones. Este proyecto será su carta de presentación para convertirse en un empleado oficial de Terraformadores.  

Recuerden, no se trata solo de configurar un servidor, sino de construir un sistema confiable, seguro y fácil de gestionar. La innovación es el núcleo de nuestra filosofía

Como nuevos empleados en prácticas, han sido seleccionados para llevar a cabo una tarea clave en el desarrollo de nuestra infraestructura de nube pública. Terraformadores de Venus ha adquirido una máquina virtual en AWS y necesita convertirla en un servidor de hosting que cumpla con los más altos estándares de seguridad y rendimiento.  

### **Requisitos del proyecto**  

1. **Servidor Apache como servidor web principal. Web de la empresa**  
   - Configure un servidor Apache en la máquina virtual de AWS para alojar la página web de la empresa accesible desde cualquier navegador.
   - La página debe ser visible a través de un **nombre de dominio registrado en un servicio de DNS dinámico**, como [Dynu.com](https://www.dynu.com) . Utilizar `ddclient` para configurar el servicio de actualización del dominio en el servidor. 
   - Diseñaran una sencilla página con información del servicio de hosting que ofrecemos. El dominio podría ser terraformadores____ .freedns.com, por ejemplo, cada uno eligirá el suyo. Accederemos por http://terraformadores____.freedns.com 

2. **Seguridad mediante HTTPS**  
   - El sitio web debe funcionar exclusivamente sobre **HTTPS**.  Si en el navegador nos solicitan http://terraformadores____.freedns.com deberá mostrarle al usuario https://terraformadores____.freedns.com
   - Utilice **Let's Encrypt y certbot** para obtener un certificado SSL gratuito y configure su renovación automática.

   ```
   NOTA:
   es muy importante que el reloj de tu máquina virtual esté correctamente sincronizado antes de crear un certificado con Let's Encrypt. Si la hora del sistema no está sincronizada, puede causar problemas durante el proceso de obtención del certificado
   ```

1. **Web de las empresas startups que tenemos como clientes de terraformadores**  
Realizar al menos dos WEBs para dos startups que nos han solicitado utilizar nuestro alojamiento. 
Estas Web tendran su sitio web alojado en /home/*nombre_startup*/public_html. Crearemos un usuario en el servidor por cada startup. Si la startup se llama vencedorestic el acceso será mediante https://terraformadores____.freedns.com/~vencedorestic. Para realizar las pruebas hasta que las startups suban sus webs haz una página sencila de pruebas.

1. **Extras de configuración**
   - Añadir un directorio con segurida digest en la web corporativa en el cual almacenaremos páginas con información sensible de la administración. El directorio debe llamarse "/admin". Accederiasmos con https://terraformadores____.freedns.com/admin/
   - Configura una página personalizada para el error 404.
   - investiga si tienes esta configuración respecto a los headers seguros activa y para que sirve. 

   ```sh
   <IfModule mod_headers.c>
         Header always set X-Frame-Options SAMEORIGIN
         Header always set X-Content-Type-Options nosniff
         Header always set Referrer-Policy "strict-origin-when-cross-origin"
      </IfModule>
   ```
   - Añade seguridad. Indica que utilidad tiene

   ```sh 
      ServerSignature Off
      ServerTokens Prod
   ```
   - (por desarrollar NO HACER aún)Configuración de PHP (php-fpm + opcache) y mpm.

1. **Crear un nuevo sitio web en nuestro servidor para un nuevo cliente**  
   La **Asociación de Turismo Ecológico "EcoTravel"** ha solicitado nuestra ayuda para alojar su web. 
   - El sitio con nombre similar a `https://www.ecoamazonia____.freedens.com`  debe estar en `/srv/www/ecoamazonia/`.

   Los diseñadores han realizado esta web [ecoamazonia.zip](vh_ecoamazonia.zip)

1. **Otro Cliente deseoso de trabajar con nosotors**
   Estamos de enhorabuena, un nuevo cliente se ha puesto en contacto con nosotros para trabajar, eso sí, este cliente es un poco especial y quiere que su web corra sobre nginx ya que considerea que tiene mayor rendimiento y velocidad superior para una alta carga de conexiones.
   Nos pide una EC2 dedicada para él con **ip publica fija**, aunque el conste sea mayor. La web se llamará algo similar a www.ticpremiummaxpower___.freedns.com
   Además:
      - Implemente **HTTPS con Let's Encrypt** con renovación automática.
      - Configure redirección automática de HTTP a HTTPS.
      - DocumentRoot en `/var/www/ticpremium/`
      - Configure logs de acceso y error en `/var/log/nginx/`


1. **A traves ssh utilizando sftp** 
   - Mantener el funcionamiento del servicio SSH para los usuarios de administración del servidor.
   - Configurar el servicio SSH. Los usuarios creados para nuestros nuevos clientes deben de conectarse únicamente por SFTP y conclave. Publiacarán en el directorio /home/*cliente*/public_html   

2. **Servidor FTP**  
   - Instale y configure un servidor FTP, como **vsftpd**, para la gestión de archivos de los usuarios del hosting.  
   - Asegúrese de que las conexiones FTP estén protegidas mediante FTPS.  
   - En  modo pasivo 
   - Con el protocolo FTPS Explicíto. 
   - Los usuarios quedarán enjaulados en su carpeta /home/*cliente*/public_html
   - Solo se permitirá el acceso con este protocolo nunca se podrá acceder por FTP
3. **NextCloud**
   - Configurar un nuevo sitio WEB para nextxloud con seguridad SSL. El dominio podria ser como https://nexcloud.ddnsfree.com
   - Configurar nextcloud para que los usuarios que se creen para los nuevos clientes utilicen su correspondiente carpeta /home/*cliente*/public_html
      

  
